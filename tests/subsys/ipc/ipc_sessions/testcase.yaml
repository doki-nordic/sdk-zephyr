sample:
  name: IPC Service integration test
  description: IPC Service integration and efficiency test

common:
  sysbuild: true
  tags: ipc ipc_sessions
  harness: ztest

tests:
  sample.ipc.ipc_sessions.nrf5340dk:
    platform_allow:
      - nrf5340dk/nrf5340/cpuapp
    integration_platforms:
      - nrf5340dk/nrf5340/cpuapp
  sample.ipc.ipc_sessions.nrf54h20dk_cpuapp_cpuppr:
    platform_allow:
      - nrf54h20dk/nrf54h20/cpuapp
    integration_platforms:
      - nrf54h20dk/nrf54h20/cpuapp
    extra_args: >-
      FILE_SUFFIX=cpuppr
      ipc_sessions_SNIPPET=nordic-ppr
  sample.ipc.ipc_sessions.nrf54h20dk_cpuapp_no_unbound_cpuppr:
    platform_allow:
      - nrf54h20dk/nrf54h20/cpuapp
    integration_platforms:
      - nrf54h20dk/nrf54h20/cpuapp
    extra_args: >-
      FILE_SUFFIX=cpuppr
      ipc_sessions_SNIPPET=nordic-ppr
    extra_configs:
      - CONFIG_IPC_SERVICE_BACKEND_ICMSG_V1=y


